<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bitz freelancer</title>
    <link rel="stylesheet" href="telaCadastro.css">
</head>
<body>
    <header>
        <img src="img/img-back.png" alt="" onclick="window.location.href = 'index.html'">
    </header>
    <main>
        <div class="containerIcon">
            <img src="img/img-segunda-tela.png" alt="">
        </div>
        <form class="containerInput" action="https://api.staticforms.xyz/submit" method="post">
            <input type="hidden" name="accessKey" value="cf0f6c67-5eeb-467d-82ab-17de4b5ed579">

            <input name="name" type="text" id="nome" placeholder="Digite seu nome completo">
            <input name="email" type="email" id="email" placeholder="Digite seu email">
            <input name="phone" type="tel" id="tel" placeholder="Digite seu celular">
            <input name="message" type="text" id="cpf" placeholder="Digite seu CPF">
            
            <input type="number" name="senha" id="senha" placeholder="Digite uma senha">
            <input type="number" name="confirmeSenhar" id="confirmeSenhar" placeholder="Confirme a senha">
            <label id="avisoText" for="confirmeSenha"></label>
            <input type="hidden" name="redirectTo" value="telaCadastro.html">

        </div>
        <div class="containerButton">
            <button id="btn-continuar" onclick="continuar()">Continuar</button>
        </div>
    </main>

    <script>
        let bntContinuar = document.getElementById('btn-continuar')

        let nome = document.getElementById('nome')
        let email = document.getElementById('email')
        let tel = document.getElementById('tel')
        let cpf = document.getElementById('cpf')
        let senha = document.getElementById('senha')
        let confirmeSenhar = document.getElementById('confirmeSenhar')
        let avisoText = document.getElementById('avisoText')
        let contador = 0, contador2 = 0, contador3 = 0, contador4 = 0

        bntContinuar.disabled = true

        email.style.display = 'none'
        tel.style.display = 'none'
        cpf.style.display = 'none'
        senha.style.display = 'none'
        confirmeSenhar.style.display = 'none'


        nome.addEventListener("input", function(e){
            var inputLength_nome = nome.value.length
            if(inputLength_nome >= 4){
                disabledFalse()
            }else{
                disabledTrue()
            }
        })

        tel.addEventListener("input", function(e){
            var inputLength_tel = tel.value.length

            if (inputLength_tel == 2) {
                tel.value = '('+ tel.value + ') '
            }
            if (inputLength_tel == 7) {
                tel.value = tel.value + '-'
            }
            if (inputLength_tel >= 11 & email.value.indexOf('@') != -1 & email.value.indexOf('.com') != -1) {
                disabledFalse()
            }else{
                disabledTrue()
            }      
        })

        cpf.addEventListener("input", function(e){
            var inputLength_cpf = cpf.value.length

            if (inputLength_cpf == 3 || inputLength_cpf == 6) {
                cpf.value = cpf.value + "."
            }
            if (inputLength_cpf == 9) {
                cpf.value = cpf.value + '-'
            }


            if (inputLength_cpf >= 11 ) {
                disabledFalse()
            }else{
                disabledTrue()
            }

        })

        senha.addEventListener("input", function(e){
            let inputLength_senha = senha.value.length
            if (inputLength_senha < 6) {
                avisoText.innerHTML = '* A senha deve ter 6 ou mais números'
            }else if(inputLength_senha >= 6){
                avisoText.innerHTML = ''
            }

        })
        
        confirmeSenhar.addEventListener("input", function(e){
            var inputLength_confirmeSenhar = confirmeSenhar.value.length
            console.log(senha.value);
            console.log(confirmeSenhar.value);

            if(confirmeSenhar.value == senha.value){
                disabledFalse()
                console.log('igual');
            }else{
                avisoText.innerHTML = '* As senhas são diferentes'
                disabledTrue()
                console.log('diferente');

            }
        })



        function disabledTrue() {
            bntContinuar.style.background ='rgba(128, 128, 128, 0.151)'
            bntContinuar.style.boxShadow = 'none'
            bntContinuar.style.color = 'rgba(128, 128, 128, 0.699)'
            bntContinuar.disabled = true

        }
        function disabledFalse() {
            bntContinuar.style.backgroundColor ='var(---corMain)'
            bntContinuar.style.boxShadow = '0px 2px 10px 0px #00000011'
            bntContinuar.style.color = 'white'
            bntContinuar.disabled = false
            avisoText.innerHTML = ''
        }

        function continuar(){
            if (nome.style.display != 'none') {

                nome.style.display = 'none'
                email.style.display = 'block'
                tel.style.display = 'block'
                cpf.style.display = 'none'
                senha.style.display = 'none'
                confirmeSenhar.style.display = 'none'

                disabledTrue()
            }
            else if (email.style.display != 'none' & tel.style.display != 'none') {
                
                nome.style.display = 'none'
                email.style.display = 'none'
                tel.style.display = 'none'
                cpf.style.display = 'block'
                senha.style.display = 'none'
                confirmeSenhar.style.display = 'none'



                disabledTrue()
            }
            else if (cpf.style.display != 'none') {
                
                nome.style.display = 'none'
                email.style.display = 'none'
                tel.style.display = 'none'
                cpf.style.display = 'none'
                senha.style.display = 'block'
                confirmeSenhar.style.display = 'block'



                disabledTrue()
            }
            else if (senha.style.display == 'block') {
                window.location.href = 'telaDone.html'
            }
        }
    </script>
</body>
</html>